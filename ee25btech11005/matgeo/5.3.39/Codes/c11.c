#include <stdio.h>

void solve_planes(double *result) {
    double A[3][3] = { {1,1,1}, {1,0,2}, {3,1,1} };
    double B[3] = {6,7,12};
    double det = A[0][0]*(A[1][1]*A[2][2]-A[1][2]*A[2][1])
               - A[0][1]*(A[1][0]*A[2][2]-A[1][2]*A[2][0])
               + A[0][2]*(A[1][0]*A[2][1]-A[1][1]*A[2][0]);
    double inv[3][3];
    inv[0][0]=(A[1][1]*A[2][2]-A[1][2]*A[2][1])/det;
    inv[0][1]=-(A[0][1]*A[2][2]-A[0][2]*A[2][1])/det;
    inv[0][2]=(A[0][1]*A[1][2]-A[0][2]*A[1][1])/det;
    inv[1][0]=-(A[1][0]*A[2][2]-A[1][2]*A[2][0])/det;
    inv[1][1]=(A[0][0]*A[2][2]-A[0][2]*A[2][0])/det;
    inv[1][2]=-(A[0][0]*A[1][2]-A[0][2]*A[1][0])/det;
    inv[2][0]=(A[1][0]*A[2][1]-A[1][1]*A[2][0])/det;
    inv[2][1]=-(A[0][0]*A[2][1]-A[0][1]*A[2][0])/det;
    inv[2][2]=(A[0][0]*A[1][1]-A[0][1]*A[1][0])/det;
    for (int i=0; i<3; i++) {
        result[i]=0;
        for (int j=0; j<3; j++)
            result[i] += inv[i][j]*B[j];
    }
}

